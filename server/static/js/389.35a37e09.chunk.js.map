{"version":3,"file":"static/js/389.35a37e09.chunk.js","mappings":"wGA4BA,IAAe,IAA0B,yD,sLC3BzC,EAAyB,gBAAzB,EAA+C,aAA/C,EAAkE,a,UCuIlE,GAAgBA,EAAAA,EAAAA,KAjIA,SAAH,GAA8B,IAAzBC,EAAU,EAAVA,WAAWC,EAAO,EAAPA,QACnBC,EAAUC,EAAAA,WAAiBC,EAAAA,IAA3BF,MAEFG,GAAMC,EAAAA,EAAAA,QAAO,MACbC,GAAkBD,EAAAA,EAAAA,QAAO,CAAEE,EAAG,EAAGC,EAAG,IACpCC,GAAcR,EAAMS,OAAO,GAEjC,GAAgCC,EAAAA,EAAAA,WAAS,GAAM,eAAxCC,EAAQ,KAAEC,EAAW,KAC5B,GAA0BF,EAAAA,EAAAA,UAASF,GAAY,eAAxCK,EAAK,KAAEC,EAAQ,KACtB,GAAgCJ,EAAAA,EAAAA,UAAS,MAAK,eAAvCK,EAAQ,KAAEC,EAAW,KAC5B,GAAoCN,EAAAA,EAAAA,UAAS,GAAE,eAAxCO,EAAU,KAAEC,EAAa,KAChC,GAAgCR,EAAAA,EAAAA,UAAS,CAAEJ,EAAG,EAAGC,EAAG,IAAI,eAAjDY,EAAQ,KAAEC,EAAW,KAOtBC,EAAW,SAACC,EAAOC,GACvBA,EAAEC,kBACFJ,EAAY,CAAEd,EAAG,EAAEC,EAAG,IACtBO,EAASN,GACTU,GAAc,SAAAO,GAAc,OAAIA,EAAiBH,CAAM,GACzD,EAEMI,EAAY,SAACJ,EAAOC,GACxBA,EAAEC,kBACFV,EAASD,EAAMS,GACfF,EAAY,CAAEd,EAAG,EAAEC,EAAG,GACxB,EA0DMoB,EAAgB,WAClBf,GAAY,EAChB,EAEA,OACE,iBAAKgB,UAAWC,EAAS,WACvB,gBAAKD,UAAWC,EACd1B,IAAKA,EACL2B,MAAO,CACLC,UAAU,SAAD,OAAWlB,EAAK,KACzBmB,gBAAiB,SACjBb,SAAU,WACVc,KAAMd,EAASb,EACf4B,IAAKf,EAASZ,GAEhB4B,YAlEkB,SAACC,GACvB,IAAMC,EAASD,EAAME,QAAQ,GAAGC,QAAUlC,EAAgBmC,QAAQlC,EAC5DmC,EAASL,EAAME,QAAQ,GAAGI,QAAUrC,EAAgBmC,QAAQjC,EAGlEa,GAAY,SAAAuB,GAAY,MAAK,CACzBrC,EAAGqC,EAAarC,EAAI+B,EACpB9B,EAAGoC,EAAapC,EAAIkC,EACvB,IAGDpC,EAAgBmC,QAAU,CACtBlC,EAAG8B,EAAME,QAAQ,GAAGC,QACpBhC,EAAG6B,EAAME,QAAQ,GAAGI,QAE1B,EAoDME,aAjDmB,SAACR,GAEtB/B,EAAgBmC,QAAU,CACtBlC,EAAG8B,EAAME,QAAQ,GAAGC,QACpBhC,EAAG6B,EAAME,QAAQ,GAAGI,QAE5B,EA4CMG,YA1CkB,SAACT,GACnBxB,GAAY,GACZP,EAAgBmC,QAAU,CACtBlC,EAAG8B,EAAMG,QACThC,EAAG6B,EAAMM,QAEjB,EAqCII,YAnCkB,SAACV,GACvB,GAAIzB,GAAYE,EAAQ,EAAG,CACzB,IAAMwB,EAASD,EAAMG,QAAUlC,EAAgBmC,QAAQlC,EACjDmC,EAASL,EAAMM,QAAUrC,EAAgBmC,QAAQjC,EAEvDa,GAAY,SAAAuB,GAAY,MAAK,CAC3BrC,EAAGqC,EAAarC,EAAI+B,EACpB9B,EAAGoC,EAAapC,EAAIkC,EACrB,IAEDpC,EAAgBmC,QAAU,CACxBlC,EAAG8B,EAAMG,QACThC,EAAG6B,EAAMM,QAEb,CACF,EAqBMK,UAAWpB,EACXqB,aAAcrB,EAAc,UAE5B,SAACsB,EAAA,EAAQ,CAACC,KAAOnD,EAASoD,cAhGf,SAAD,GAAmB,IAAfpC,EAAQ,EAARA,SAClBC,EAAYD,GACZG,EAAc,EAChB,EA6F0D,UAClD,SAACkC,EAAA,EAAI,CAACnC,WAAYA,SAItB,iBAAKW,UAAWC,EAAM,WAChB,mBAAQwB,KAAK,SAASC,SAAoB,IAAVzC,EAAa0C,QAAS,SAAChC,GAAC,OAAGG,GAAa,EAAEH,EAAE,EAAC,SAAE,OAC/E,mBAAQ8B,KAAK,SAASC,SAAUrC,GAAc,EAAGsC,QAAS,SAAChC,GAAC,OAAGF,GAAY,EAAEE,EAAE,EAAC,SAAE,YAClF,yBAAIN,IAAeF,EAAW,EAAI,MAAM,MAAIA,GAAY,SACxD,mBAAQsC,KAAK,SAASC,SAAUrC,GAAcF,EAAUwC,QAAS,SAAChC,GAAC,OAAGF,EAAW,EAAEE,EAAE,EAAC,SAAE,YACxF,mBAAQ8B,KAAK,SAASC,SAAoB,IAAVzC,EAAa0C,QAAS,SAAChC,GAAC,OAAGG,EAAY,EAAEH,EAAE,EAAC,SAAE,OAC9E,mBAAQ8B,KAAK,SAASE,QAAS,kBAAIzD,GAAW,EAAM,EAAC,SAAE,WAKnE,ICnIA,EAA0B,iBCyB1B,GAAgBD,EAAAA,EAAAA,KArBA,SAAH,GAA0B,IAArB2D,EAAU,EAAVA,WAAWC,EAAG,EAAHA,IAC3B,GAA0B/C,EAAAA,EAAAA,UAAS,GAAE,eAA9BG,EAAK,KAAEC,EAAQ,KAUtB,OACE,gBAAKc,UAAWC,EAAW0B,QAAS,kBAAIC,GAAW,EAAM,EAAEE,QATzC,SAACnC,GACnBA,EAAEoC,iBACF7C,GAAS,SAAA8C,GAAS,OAAIA,GAAarC,EAAEkB,OAAS,EAAI,IAAO,GAAI,IAC7D3B,GAAS,SAAA8C,GAAS,OAAIC,KAAKC,IAAIF,EAAW,EAAE,GAC9C,EAKkF,UAC9E,gBAAKG,IAAG,kBAAaN,GAAOO,IAAI,GAAGlC,MAAO,CAAEC,UAAU,SAAD,OAAWlB,EAAK,SAI3E,I,UCrBA,EAAwB,eAAxB,EAA8C,cAA9C,EAAmE,cAAnE,EAA+F,qBAA/F,EAA6H,gBAA7H,EAAmJ,aAAnJ,EAAyK,gBAAzK,EAA8L,YAA9L,EAA+M,YAA/M,EAAgO,YAAhO,EAAkP,aAAlP,EAAyQ,iBAAzQ,EAAgS,aAAhS,EAAsT,gBAAtT,EAA4U,aAA5U,EAAgW,cAAhW,EAAsX,eAAtX,EAA4Y,cAA5Y,EAA8b,Y,4CCcxboD,EAAU,CAAE,2BAAO,2BAAO,8BAAU,4BA0S1C,GAAgBpE,EAAAA,EAAAA,KAvSF,WACZ,IAAQG,EAAUC,EAAAA,WAAiBC,EAAAA,IAA3BF,MAGR,GAA+BU,EAAAA,EAAAA,YAAU,eACzC,GADe,KAAY,MACEA,EAAAA,EAAAA,WAAS,IAAM,eAA7BwD,GAAD,KAAW,MACzB,GAAuBxD,EAAAA,EAAAA,WAAS,GAAM,eAA/ByD,EAAI,KAACC,EAAO,KACnB,GAAmB1D,EAAAA,EAAAA,UAAS,IAAG,eAAxB2D,EAAE,KAACC,EAAK,KACf,GAAqB5D,EAAAA,EAAAA,UAAS,eAAc,eAArC6D,EAAG,KAACC,EAAM,KACjB,GAAqB9D,EAAAA,EAAAA,UAAS,MAAK,eAA5B+C,GAAG,KAACgB,GAAM,KACjB,IAAuB/D,EAAAA,EAAAA,UAAS,MAAK,iBAA9BgE,GAAI,MAACC,GAAO,MACnB,IAAuBjE,EAAAA,EAAAA,UAAS,MAAK,iBAA9BkE,GAAI,MAACC,GAAO,MACnB,IAAqBnE,EAAAA,EAAAA,UAAS,MAAK,iBAA5BoE,GAAG,MAACC,GAAM,MACjB,IAAyBrE,EAAAA,EAAAA,UAAS,IAAG,iBAA9BsE,GAAK,MAACC,GAAQ,MACrB,IAAqBvE,EAAAA,EAAAA,UAAS,GAAE,iBAAzBwE,GAAG,MAACC,GAAM,MACjB,IAA6BzE,EAAAA,EAAAA,WAAS,GAAM,iBAArC0E,GAAO,MAACtF,GAAU,MACzB,IAA6BY,EAAAA,EAAAA,WAAS,GAAM,iBAArC2E,GAAO,MAAC7B,GAAU,MACzB,IAA8B9C,EAAAA,EAAAA,UAAS,IAAG,iBAAnC4E,GAAQ,MAACC,GAAW,MAC3B,IAAsB7E,EAAAA,EAAAA,UAAS,GAAE,iBAA1B8E,GAAI,MAACC,GAAO,MACnB,IAA6B/E,EAAAA,EAAAA,UAAS,MAAK,iBAApCX,GAAO,MAAC2F,GAAU,MAsFnBC,GAAc,SAACC,EAAEC,GAAC,OAAKD,EAAEE,QAAO,SAACF,EAAEG,GAAC,OAAKA,GADlC,IAC2CF,EAAE,IAAME,GADnD,GACsDF,EAAO,CAAE,GAAC,GAoB7EG,EAAAA,EAAAA,YAAU,WACR,GACC,KAGHA,EAAAA,EAAAA,YAAU,WACRT,GAAYI,GAAYtB,EAAGmB,IAC7B,GAAG,CAACA,KAgCJ,OAEE,iBAAK5D,UAAWC,EAAQ,WAEtB,iBAAKD,UAAWC,EAAO,WACrB,iBAAKD,UAAWC,EAAO,WACrB,iBAAKD,UAAWC,EAAS,WACvB,SAAC,IAAK,CAACoE,SAvBD,SAAC1E,GACfiD,EAAOjD,EAAE2E,OAAOC,MAClB,EAqBqCA,MAAO5B,EAAK6B,YAAU,KACjD,gBAAKxE,UAAWC,EAAO0B,QAtCjB,SAAChC,GAGf,IAAM8E,EAAS,CAAE9B,IAAAA,GAEjBI,GAAQ,IACRT,GAAW,GACXlE,EAAMsG,WAAWD,GAAQE,MAAK,SAAAC,GAC5BlC,EAAMkC,GACNjB,GAAYI,GAAYa,EAAE,IAC1BtC,GAAW,EACb,GACF,EA0BmD,SAAC,oBAG3CG,EAAGoC,OAAQ,IACZ,iBAAK7E,UAAWC,EAAM,WACpB,gBAAKD,UAAWC,EAAc,UAC3B,SAAC,IAAU,CAAC6E,eAAgB,EAAGC,SA1E/B,GA0E+CC,MAAOvC,EAAGoC,OAAQR,SAAU,SAAC1E,GAAC,OAAGkE,GAAQlE,EAAE,EAAEsF,iBAAiB,MAE/GvB,GAASwB,KAAI,SAACC,EAAKhB,GAAC,OACnB,iBAAKnE,UAAWC,EAAgB0B,QAAS,kBAzErC,SAAChC,GACf,MAA0CA,EAAEmD,KAAvCsC,EAAO,EAAPA,QAA4BC,GAAb,EAAPC,QAAgB,EAARC,UAAiB,aAChCnC,EAAQzD,EAAEyD,MAAMc,QAAO,SAAAiB,GAAI,OAAIA,EAAKK,aAAaC,SAAS,OAAO,IACjEvC,EAAqC,IAA9BwC,OAAOC,KAAKhG,EAAEuD,KAAK2B,QAAgBlF,EAAEuD,IAAI0C,cAAgBF,OAAQ,GAAG/F,EAAEuD,IAEnFL,GAAOuC,GACPrC,IAAQ,UAAIsC,IACZpC,IAAQ,UAAItD,EAAEqD,OACdG,IAAO,OAAID,IACXG,IAAS,OAAID,IACbZ,GAAQ,GAGRqD,QAAQC,IAAI,QAAQ1C,GACpByC,QAAQC,IAAI,OAAOnG,EAAEqD,KACvB,CA0DyD+C,CAASZ,EAAK,EAAC,WAE1D,gBAAKnF,UAAWC,EAAK,UACnB,gBAAKkC,IAAG,kBAAagD,EAAKrC,KAAKsC,SAAWhD,IAAI,QAEhD,iBAAKpC,UAAWC,EAAK,WACnB,0BAAOkF,EAAKa,eACZ,wBAAKb,EAAKc,aACV,uBAAId,EAAKrC,KAAKoD,cACd,iBAAKlG,UAAWC,EAAM,WACpB,iBAAKD,UAAWC,EAAM,WACpB,0BAAM,wBACN,0BAAM,kBACN,0BAAM,qBAER,iBAAKD,UAAWC,EAAM,WACpB,0BAAOkF,EAAKgB,eACZ,0BAAOhB,EAAKiB,SACZ,0BAAOjB,EAAKkB,qBAlBSlC,EAsBvB,OAII,IAAb1B,EAAGoC,SACJ,gBAAK7E,UAAWC,EAAQ,SAAC,oEAG1BsC,IACD,gBAAKvC,UAAWC,EAAS,UACvB,iBAAKD,UAAWC,EAAO,WACrB,iBAAKD,UAAWC,EAAK,WACnB,0BAAM,8BACN,gBAAKkC,IAAKmE,EAAAA,EAAYlE,IAAI,GAAGT,QA/D1B,WACba,GAAQ,GACRe,GAAO,EACT,QA8DU,iBAAKvD,UAAWC,EAAK,WACnB,gBAAKkC,IAAG,kBAAaN,IAAOO,IAAI,GAAGT,QAAS,kBAAIC,IAAW,EAAK,KAChE,iBAAK5B,UAAWC,EAAK,WACnB,gBAAKD,UAAWC,EAAM,SACnBoC,EAAQ6C,KAAI,SAACC,EAAKhB,GAAC,OAAG,iBAAcnE,UAAWsD,KAAMa,EAAE,MAAM,GAAIxC,QAAS,kBAAI4B,GAAOY,EAAE,EAAC,SAAEgB,GAAzDhB,EAAqE,MAIlG,IAANb,KACD,gBAAKtD,UAAWC,EAAU,SACzByF,OAAOa,QAAQzD,IAAMoC,KAAI,+BAAEvC,EAAG,KAAE4B,EAAK,YACpC,iBAAevE,UAAWC,EAAM,WAC9B,6BAASuG,EAAAA,EAAAA,IAAa7D,MACtB,0BAAO4B,MAFC5B,EAGJ,MAID,IAANW,KACD,gBAAKtD,UAAWC,EAAU,SACzByF,OAAOa,QAAQvD,IAAMkC,KAAI,+BAAEvC,EAAG,KAAE4B,EAAK,YACpC,SAAC,WAAc,UACXA,IACF,iBAAKvE,UAAWC,EAAM,WACpB,6BAASuG,EAAAA,EAAAA,IAAa7D,MACtB,0BAAO4B,QAJU5B,EAMH,MAKb,IAANW,KACD,iBAAKtD,UAAWC,EAAU,UAErBiD,GAAI2B,OAAO,IACd,iBAAK7E,UAAWC,EAAS,WACvB,wBAAI,kBACJ,wBAAI,8BACJ,wBAAI,wBACJ,wBAAI,sCAEF,OAAHiD,SAAG,IAAHA,QAAG,EAAHA,GAAKgC,KAAI,SAACC,EAAKhB,GAAC,OACf,iBAAanE,UAAWC,EAAS,WAC/B,wBAAKkF,EAAKsB,aACV,wBAAKtB,EAAKuB,QACV,wBAAKvB,EAAKwB,SACV,wBAAKxB,EAAKyB,iBAJFzC,EAKJ,OAIH,IAANb,KACD,gBAAKtD,UAAWC,EAAM,SAEd,OAALmD,SAAK,IAALA,QAAK,EAALA,GAAO8B,KAAI,SAACC,EAAKhB,GAAC,OACjB,iBAAanE,UAAWC,EAAQ0B,QAAS,kBApH3C,SAACwD,GACf,IAAM0B,EAAQ,kBAAc1B,EAAK0B,UACjC/C,GAAW+C,GACX3I,IAAW,EACb,CAgH+D4I,CAAU3B,EAAK,EAAC,WAC3D,gBAAKhD,IAAG,kBAAagD,EAAK4B,mBAAqB3E,IAAI,MACnD,0BAAO+C,EAAK6B,SAFJ7C,EAGJ,oBAUnBV,KAAW,SAAC,EAAO,CAAC5B,IAAKA,GAAKD,WAAYA,KAE1C4B,KAAW,SAAC,EAAO,CAACtF,WAAYA,GAAYC,QAASA,OAI5D,G","sources":["img/close.svg","webpack://tmpl/./src/app/index/ViewPdf/index.module.less?e7c4","app/index/ViewPdf/index.js","webpack://tmpl/./src/app/index/ViewImg/index.module.less?8e3e","app/index/ViewImg/index.js","webpack://tmpl/./src/app/index/index.module.less?fbf9","app/index/index.js"],"sourcesContent":["var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.554 23.58l-9.555-9.553-9.555 9.553a1.441 1.441 0 01-2.028 0 1.44 1.44 0 010-2.027L9.972 12 .416 2.447a1.44 1.44 0 010-2.027 1.434 1.434 0 012.028 0l9.555 9.553L21.554.42a1.433 1.433 0 112.025 2.027L14.024 12l9.555 9.553a1.434 1.434 0 11-2.025 2.027z\",\n    fill: \"#fff\",\n    fillRule: \"nonzero\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.e0e1d20fe1c704f65e226eedd5a41ede.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"viewer\":\"viewer--WssFc\",\"doc\":\"doc--NCG9j\",\"nav\":\"nav--J0bbp\"};","import React,{useEffect,useState,useRef} from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { inject,observer,MobXProviderContext } from 'mobx-react'\n\nimport s from './index.module.less';\n\n\nconst ViewPdf = ({setShowPdf,pdfFile}) => {\n  const { store } = React.useContext(MobXProviderContext)\n\n  const ref = useRef(null);\n  const lastPositionRef = useRef({ x: 0, y: 0 });\n  const _init_scale = store.mobile?1:1\n\n  const [dragging, setDragging] = useState(false);\n  const [scale, setScale] = useState(_init_scale);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  const onLoadSucc=({ numPages })=> {\n    setNumPages(numPages);\n    setPageNumber(1);\n  }\n\n  const changePage=(offset,e)=> {\n    e.stopPropagation()\n    setPosition({ x: 0,y: 0 });\n    setScale(_init_scale);\n    setPageNumber(prevPageNumber => prevPageNumber + offset);\n  }\n\n  const changeScale=(offset,e)=> {\n    e.stopPropagation()\n    setScale(scale+offset);\n    setPosition({ x: 0,y: 0 });\n  }\n\n  const scaleDoc = () => {\n    setScale(scale === _init_scale ? 2 : _init_scale)\n  };\n\n\n  const handleTouchMove = (event) => {\n    const deltaX = event.touches[0].clientX - lastPositionRef.current.x;\n    const deltaY = event.touches[0].clientY - lastPositionRef.current.y;\n\n    // Update the position\n    setPosition(prevPosition => ({\n        x: prevPosition.x + deltaX,\n        y: prevPosition.y + deltaY\n    }));\n\n    // Update the last position for the next move\n    lastPositionRef.current = {\n        x: event.touches[0].clientX,\n        y: event.touches[0].clientY\n    };\n  };\n\n  \n  const handleTouchStart = (event) => {\n      \n      lastPositionRef.current = {\n          x: event.touches[0].clientX,\n          y: event.touches[0].clientY\n      };\n  };\n\n  const handleMouseDown = (event) => {\n        setDragging(true);\n        lastPositionRef.current = {\n            x: event.clientX,\n            y: event.clientY\n        };\n    };\n\n  const handleMouseMove = (event) => {\n    if (dragging && scale > 1) {\n      const deltaX = event.clientX - lastPositionRef.current.x;\n      const deltaY = event.clientY - lastPositionRef.current.y;\n\n      setPosition(prevPosition => ({\n        x: prevPosition.x + deltaX,\n        y: prevPosition.y + deltaY\n      }));\n\n      lastPositionRef.current = {\n        x: event.clientX,\n        y: event.clientY\n      };\n    }\n  };\n\n  const handleMouseUp = () => {\n      setDragging(false);\n  };\n\n  return (\n    <div className={s.viewer} >\n      <div className={s.doc} \n        ref={ref}\n        style={{\n          transform: `scale(${scale})`,\n          transformOrigin: 'center',\n          position: 'relative',\n          left: position.x,\n          top: position.y\n        }}\n        onTouchMove={handleTouchMove}\n        onTouchStart={handleTouchStart}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n        >\n        <Document file ={pdfFile} onLoadSuccess={onLoadSucc} >\n          <Page pageNumber={pageNumber} />\n        </Document>\n\n      </div>\n      <div className={s.nav}>\n            <button type=\"button\" disabled={scale === 1} onClick={(e)=>changeScale(-1,e)} >-</button>\n            <button type=\"button\" disabled={pageNumber <= 1} onClick={(e)=>changePage(-1,e)} >‹</button>\n            <p>{pageNumber || (numPages ? 1 : '--')} / {numPages || '--'}</p>\n            <button type=\"button\" disabled={pageNumber >= numPages} onClick={(e)=>changePage(1,e)} >›</button>\n            <button type=\"button\" disabled={scale === 2} onClick={(e)=>changeScale(1,e)} >+</button>\n            <button type=\"button\" onClick={()=>setShowPdf(false)} >x</button>\n          </div>\n    </div>\n\n  )\n}\n\n\n\nexport default  observer(ViewPdf)","// extracted by mini-css-extract-plugin\nexport default {\"imgView\":\"imgView--gxL98\"};","import React,{useEffect,useState} from 'react';\nimport { observer } from 'mobx-react'\nimport s from './index.module.less';\n\n\nconst ViewImg = ({setShowImg,img}) => {\n  const [scale, setScale] = useState(1);\n\n  const handleWheel = (e) => {\n    e.preventDefault();\n    setScale(prevScale => prevScale + (e.deltaY < 0 ? 0.1 : -0.1));\n    setScale(prevScale => Math.max(prevScale, 1));\n  }\n\n  \n\n  return (\n    <div className={s.imgView} onClick={()=>setShowImg(false)} onWheel={handleWheel}>\n      <img src={`https://${img}`} alt=\"\" style={{ transform: `scale(${scale})` }}  />\n    </div>\n\n  )\n}\n\n\n\nexport default  observer(ViewImg)","// extracted by mini-css-extract-plugin\nexport default {\"index\":\"index--fsgRo\",\"wrap\":\"wrap--GOJ1f\",\"main\":\"main--Cwunl\",\"pageination\":\"pageination--hs62v\",\"search\":\"search--nFvVy\",\"btn\":\"btn--q3hhx\",\"detail\":\"detail--l4Zpy\",\"hd\":\"hd--owRCY\",\"bd\":\"bd--eY5Di\",\"rt\":\"rt--ILk2G\",\"tab\":\"tab--yP203\",\"content\":\"content--fWdUk\",\"row\":\"row--a7VS8\",\"rowApp\":\"rowApp--y4PRw\",\"pdf\":\"pdf--NrXUf\",\"item\":\"item--Mz8EK\",\"empty\":\"empty--pX_s_\",\"part\":\"part--z5OvW\",\"btnDetail\":\"btnDetail--AHIw5\",\"lt\":\"lt--W2ENo\"};","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React,{useEffect,useState} from 'react';\r\nimport {Input, Table, Space, Pagination} from 'antd'\r\nimport {API_SERVER} from '@/constant/apis'\r\nimport { observer,MobXProviderContext } from 'mobx-react'\r\nimport ViewPdf from './ViewPdf'\r\nimport ViewImg from './ViewImg'\r\nimport {getNameByKey} from '@/constant/data'\r\n// import {CATE_DATA} from '@/constant/cate'\r\n\r\n\r\nimport s from './index.module.less';\r\n\r\nimport icon_close from '@/img/close.svg'\r\n\r\nconst tabList = [ \"基本信息\",\"属性信息\",\"APPの互換性\",\"ファイル\"]\r\n\r\n\r\nconst Index = () => {\r\n  const { store } = React.useContext(MobXProviderContext)\r\n  \r\n  \r\n  const [category,setCategory] = useState()\r\n  const [loading,setLoading] = useState(false)\r\n  const [show,setShow] = useState(false)\r\n  const [ds,setDs] = useState([])\r\n  const [key,setKey] = useState('02-10641-01')\r\n  const [img,setImg] = useState(null)\r\n  const [data,setData] = useState(null)\r\n  const [attr,setAttr] = useState(null)\r\n  const [app,setApp] = useState(null)\r\n  const [asset,setAsset] = useState([])\r\n  const [sel,setSel] = useState(0)\r\n  const [showPdf,setShowPdf] = useState(false)\r\n  const [showImg,setShowImg] = useState(false)\r\n  const [dataPage,setDataPage]= useState([])\r\n  const [page,setPage]= useState(1)\r\n  const [pdfFile,setPdfFile] = useState(null)\r\n\r\n  // const onChange = (e,b) => {\r\n  //   console.log('onChange ', e,b);\r\n  //   setCategory(e);\r\n  // };\r\n\r\n  // const tProps = {\r\n  //   treeData: CATE_DATA,\r\n  //   value: category,\r\n  //   onChange,\r\n  //   treeCheckable: true,\r\n  //   showCheckedStrategy: SHOW_PARENT,\r\n  //   placeholder: 'Please select',\r\n  //   style: {\r\n  //     width: '100%',\r\n  //   },\r\n  // };\r\n\r\n  // const columns = [\r\n  //   // {\r\n  //   //   title: '序号',\r\n  //   //   dataIndex: 'key',\r\n  //   //   key: 'key',\r\n  //   //   align:'center',\r\n  //   //   width: 80,\r\n  //   // },\r\n  //   {\r\n  //     title: '序号',\r\n  //     dataIndex: 'part_number',\r\n  //     key: 'part_number',\r\n  //     width: 120,\r\n  //     sorter: (a, b) => a.part_number - b.part_number,\r\n  //   },\r\n  //   {\r\n  //     title: '缩略图',\r\n  //     key: 'icon',\r\n  //     align:'center',\r\n  //     width: 80,\r\n  //     render: (_, record) => <img src={`https://${record.data.img_tiny}`} alt=\"\" style={{height: '32px',width: '32px'}} />,\r\n      \r\n  //   },\r\n  //   {\r\n  //     title: '名称',\r\n  //     dataIndex: 'part_desc',\r\n  //     key: 'part_desc',\r\n  //     sorter: (a, b) => a.part_desc - b.part_desc,\r\n  //   },\r\n    \r\n  //   {\r\n  //     title: '编码',\r\n  //     dataIndex: 'part_id',\r\n  //     key: 'part_id',\r\n  //     width: 120,\r\n  //     sorter: (a, b) => a.part_id - b.part_id,\r\n      \r\n  //   },\r\n  //   {\r\n  //     title: '原产国',\r\n  //     dataIndex: 'org_country',\r\n  //     key: 'org_country',\r\n  //     align:'center',\r\n  //     width: 120,\r\n  //     sorter: (a, b) => a.org_country - b.org_country,\r\n  //   },\r\n  //   {\r\n  //     title: '品牌',\r\n  //     dataIndex: 'brand',\r\n  //     key: 'brand',\r\n  //     align:'center',\r\n  //     width: 150,\r\n  //     sorter: (a, b) => a.brand - b.brand,\r\n  //   },\r\n  //   {\r\n  //     title: '详情',\r\n  //     key: 'action',\r\n  //     width: 80,\r\n  //     render: (_, r) => (\r\n  //       <Space size=\"middle\">\r\n  //         <a onClick={()=>doDetail(r)} >详情</a>\r\n  //       </Space>\r\n  //     ),\r\n  //   },\r\n  // ];\r\n\r\n  const SIZE = 10\r\n  const getPageList = (o,p) => o.filter((o,i)=> (i>=SIZE*(p-1))&&(i<=p*SIZE-1))\r\n\r\n\r\n  const doDetail =(e)=>{\r\n    let {img_org,img_def,img_tiny,..._data} = e.data\r\n    const asset = e.asset.filter(item => item.fileNameOnly.endsWith('.pdf') );\r\n    const app = (Object.keys(e.app).length === 0 && e.app.constructor === Object)?[]:e.app\r\n    \r\n    setImg(img_org)\r\n    setData({..._data})\r\n    setAttr({...e.attr})\r\n    setApp([...app])\r\n    setAsset([...asset])\r\n    setShow(true)\r\n    \r\n\r\n    console.log('asset',asset)\r\n    console.log('attr',e.attr)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    // doSearch()\r\n  }, []);\r\n\r\n  // 页面变化\r\n  useEffect(() => {\r\n    setDataPage(getPageList(ds,page))\r\n  }, [page]);\r\n  \r\n  const doSearch =(e)=>{\r\n    // const params = { key:'02-10641-01' }\r\n    // const params = { key:'654' }\r\n    const params = { key }\r\n\r\n    setData([])\r\n    setLoading(true)\r\n    store.queryParts(params).then(r=>{\r\n      setDs(r)\r\n      setDataPage(getPageList(r,1))\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  const doChgKey =(e)=>{\r\n    setKey(e.target.value)\r\n  }\r\n\r\n\r\n  const doClose =()=>{\r\n    setShow(false)\r\n    setSel(0)\r\n  }\r\n\r\n  const doShowPdf=(item)=>{\r\n    const fileName = `https://${item.fileName}`\r\n    setPdfFile(fileName)\r\n    setShowPdf(true)\r\n  }\r\n\r\n  return (\r\n  \r\n    <div className={s.index}>\r\n      \r\n      <div className={s.wrap}>\r\n        <div className={s.main}>\r\n          <div className={s.search}>\r\n            <Input onChange={doChgKey} value={key} allowClear />\r\n            <div className={s.btn} onClick={doSearch}>檢索</div>\r\n          </div>\r\n\r\n          {ds.length> 0 &&\r\n          <div className={s.tab}>\r\n            <div className={s.pageination}>\r\n               <Pagination defaultCurrent={1} pageSize={SIZE} total={ds.length} onChange={(e)=>setPage(e)} showSizeChanger={false}/>\r\n            </div>\r\n            {dataPage.map((item,i)=>\r\n              <div className={s.part} key={i} onClick={()=>doDetail(item)}>\r\n                \r\n                <div className={s.lt}>\r\n                  <img src={`https://${item.data.img_org}`} alt=\"\" />\r\n                </div>\r\n                <div className={s.rt}>\r\n                  <span>{item.part_number}</span>\r\n                  <h1>{item.part_desc}</h1>\r\n                  <p>{item.data.sales_desc}</p>\r\n                  <div className={s.tab}>\r\n                    <div className={s.row}>\r\n                      <span>原产国</span>\r\n                      <span>品牌</span>\r\n                      <span>编码</span>\r\n                    </div>\r\n                    <div className={s.row}>\r\n                      <span>{item.org_country}</span>\r\n                      <span>{item.brand}</span>\r\n                      <span>{item.part_id}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>}\r\n\r\n          {ds.length=== 0 && \r\n          <div className={s.empty}>検索結果がありません</div>}\r\n        </div>\r\n\r\n        {show &&\r\n        <div className={s.detail}>\r\n          <div className={s.wrap} >\r\n            <div className={s.hd}>\r\n              <span>部品详情</span>\r\n              <img src={icon_close} alt=\"\" onClick={doClose} />\r\n            </div>\r\n            <div className={s.bd}>\r\n              <img src={`https://${img}`} alt=\"\" onClick={()=>setShowImg(true)}/>\r\n              <div className={s.rt}>\r\n                <div className={s.tab}>\r\n                  {tabList.map((item,i)=><span key={i} className={sel===i?'sel':''} onClick={()=>setSel(i)}>{item}</span>)}\r\n                  \r\n                </div>\r\n\r\n                {sel===0 &&\r\n                <div className={s.content}>\r\n                {Object.entries(data).map(([key, value]) => (\r\n                  <div key={key} className={s.row}>\r\n                    <strong>{getNameByKey(key)}</strong> \r\n                    <span>{value}</span>\r\n                  </div>\r\n                ))}\r\n                </div>}\r\n\r\n                {sel===1 &&\r\n                <div className={s.content}>\r\n                {Object.entries(attr).map(([key, value]) => (\r\n                  <React.Fragment key={key}>\r\n                    {(value) && \r\n                    <div className={s.row}>\r\n                      <strong>{getNameByKey(key)}</strong> \r\n                      <span>{value}</span>\r\n                    </div>}\r\n                  </React.Fragment >\r\n\r\n                ))}\r\n                </div>}\r\n\r\n                {sel===2 &&\r\n                <div className={s.content}>\r\n\r\n                  { (app.length>0) &&\r\n                  <div className={s.rowApp}>\r\n                    <em>数量</em>\r\n                    <em>メーカー</em>\r\n                    <em>モデル</em>\r\n                    <em>適合ノート</em>\r\n                  </div>}\r\n                  {app?.map((item,i) => (\r\n                    <div key={i} className={s.rowApp}>\r\n                      <em>{item.percarQty}</em>\r\n                      <em>{item.make}</em>\r\n                      <em>{item.model}</em>\r\n                      <em>{item.fitmentNotes}</em>\r\n                    </div>\r\n                  ))}\r\n                </div>}\r\n\r\n                {sel===3 &&\r\n                <div className={s.pdf}>\r\n                  \r\n                  {asset?.map((item,i) => (\r\n                    <div key={i} className={s.item} onClick={()=>doShowPdf(item)}>\r\n                      <img src={`https://${item.thumbNailfileName}`} alt=\"\" />\r\n                      <span>{item.desc}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>}\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>}\r\n      </div>\r\n\r\n      {showImg && <ViewImg img={img} setShowImg={setShowImg} />}\r\n\r\n      {showPdf && <ViewPdf setShowPdf={setShowPdf} pdfFile={pdfFile} />}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default  observer(Index)"],"names":["observer","setShowPdf","pdfFile","store","React","MobXProviderContext","ref","useRef","lastPositionRef","x","y","_init_scale","mobile","useState","dragging","setDragging","scale","setScale","numPages","setNumPages","pageNumber","setPageNumber","position","setPosition","changePage","offset","e","stopPropagation","prevPageNumber","changeScale","handleMouseUp","className","s","style","transform","transformOrigin","left","top","onTouchMove","event","deltaX","touches","clientX","current","deltaY","clientY","prevPosition","onTouchStart","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","Document","file","onLoadSuccess","Page","type","disabled","onClick","setShowImg","img","onWheel","preventDefault","prevScale","Math","max","src","alt","tabList","setLoading","show","setShow","ds","setDs","key","setKey","setImg","data","setData","attr","setAttr","app","setApp","asset","setAsset","sel","setSel","showPdf","showImg","dataPage","setDataPage","page","setPage","setPdfFile","getPageList","o","p","filter","i","useEffect","onChange","target","value","allowClear","params","queryParts","then","r","length","defaultCurrent","pageSize","total","showSizeChanger","map","item","img_org","_data","img_def","img_tiny","fileNameOnly","endsWith","Object","keys","constructor","console","log","doDetail","part_number","part_desc","sales_desc","org_country","brand","part_id","icon_close","entries","getNameByKey","percarQty","make","model","fitmentNotes","fileName","doShowPdf","thumbNailfileName","desc"],"sourceRoot":""}